<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.3">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="OpenBCI Documentation Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="OpenBCI Documentation Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-42419007-3"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-42419007-3",{})</script>
<link rel="search" type="application/opensearchdescription+xml" title="OpenBCI Documentation" href="/opensearch.xml">
<script src="https://buttons.github.io/buttons.js"></script><title data-react-helmet="true">External Trigger on OpenBCI Cyton Board | OpenBCI Documentation</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://openbci.github.io/Cyton/CytonExternal/"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="External Trigger on OpenBCI Cyton Board | OpenBCI Documentation"><meta data-react-helmet="true" name="description" content="Sometimes, when studying EEG or other biopotential signals, you will want to have precise timing between external events or stimulus and the data stream. For example, if you are working with P300 waves it is necessary to know the exact time that the signal was presented to the subject in order to look for the tell-tale brain wave that happens about 300mS after the stimulus."><meta data-react-helmet="true" property="og:description" content="Sometimes, when studying EEG or other biopotential signals, you will want to have precise timing between external events or stimulus and the data stream. For example, if you are working with P300 waves it is necessary to know the exact time that the signal was presented to the subject in order to look for the tell-tale brain wave that happens about 300mS after the stimulus."><meta data-react-helmet="true" property="og:image" content="https://openbci.github.io/img/undraw_online.svg"><meta data-react-helmet="true" name="twitter:image" content="https://openbci.github.io/img/undraw_online.svg"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon_large.ico"><link data-react-helmet="true" rel="canonical" href="https://openbci.github.io/Cyton/CytonExternal/"><link data-react-helmet="true" rel="alternate" href="https://openbci.github.io/Cyton/CytonExternal/" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://openbci.github.io/Cyton/CytonExternal/" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.04a240c4.css">
<link rel="preload" href="/assets/js/runtime~main.9aca6429.js" as="script">
<link rel="preload" href="/assets/js/main.9dec5e7f.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/openbci-logo.svg" alt="OpenBCI Documentation" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/openbci-logo.svg" alt="OpenBCI Documentation" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">OpenBCI Documentation</b></a><a href="https://openbci.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Main Site<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></div><div class="navbar__items navbar__items--right"><a href="https://shop.openbci.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Shop<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://openbci.com/forum/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/">Documentation</a><a href="https://github.com/OpenBCI" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a class="navbar__item navbar__link" href="/citations/">Citations</a><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="searchBox_1Doo"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/openbci-logo.svg" alt="OpenBCI Documentation" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/openbci-logo.svg" alt="OpenBCI Documentation" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">OpenBCI Documentation</b></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a href="https://openbci.com" target="_blank" rel="noopener noreferrer" class="menu__link"><span>Main Site<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="menu__list-item"><a href="https://shop.openbci.com" target="_blank" rel="noopener noreferrer" class="menu__link"><span>Shop<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="menu__list-item"><a href="https://openbci.com/forum/" target="_blank" rel="noopener noreferrer" class="menu__link"><span>Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/">Documentation</a></li><li class="menu__list-item"><a href="https://github.com/OpenBCI" target="_blank" rel="noopener noreferrer" class="menu__link"><span>Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="menu__list-item"><a class="menu__link" href="/citations/">Citations</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu menu--responsive thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA" aria-label="Sidebar navigation"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Welcome to OpenBCI</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/">Welcome to the OpenBCI Community</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Getting Started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/GettingStarted/GettingStartedLanding/">Getting Started</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="-1">Boards</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/GettingStarted/Boards/CytonGS/">Cyton Getting Started Guide</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/GettingStarted/Boards/DaisyGS/">Daisy Getting Started Guide</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/GettingStarted/Boards/GanglionGS/">Ganglion Getting Started Guide</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/GettingStarted/Boards/WiFiGS/">WiFi Shield Getting Started Guide</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="-1">Biosensing Setups</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/GettingStarted/Biosensing-Setups/EEGSetup/">Setting up for EEG</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/GettingStarted/Biosensing-Setups/ECGSetup/">Setting up for ECG</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/GettingStarted/Biosensing-Setups/EMGSetup/">Setting up for EMG</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/GettingStarted/Biosensing-Setups/ExGSetup/">Setting up for EEG, EMG, and ECG at the same time</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="-1">Community</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/GettingStarted/Community/Community/">Welcome to the OpenBCI Community</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Cyton Board</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Cyton/CytonLanding/">Cyton Board</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Cyton/CytonSpecs/">Cyton Specs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Cyton/CytonDataFormat/">Cyton Data Format</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Cyton/CytonSDK/">Cyton Board SDK</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Cyton/CytonProgram/">Cyton Board Programming Tutorial</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Cyton/CytonRadios/">Cyton Radios Programming Tutorial</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/Cyton/CytonExternal/">External Trigger on OpenBCI Cyton Board</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Cyton/CytonSDCard/">Using SD Card with OpenBCI</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Ganglion Board</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Ganglion/GanglionLanding/">Ganglion Board</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Ganglion/GanglionSpecs/">Ganglion Specs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Ganglion/GanglionDataFormat/">Ganglion Data Format</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Ganglion/GanglionSDK/">Ganglion SDK</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Ganglion/GanglionProgram/">Ganglion Programming Tutorial</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Headwear &amp; Electrodes</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/AddOns/AddOnLanding/">Add Ons</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="-1">Headwear</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/AddOns/Headwear/MarkIV/">Ultracortex Mark IV</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/AddOns/Headwear/MarkIII/">Ultracortex Mark III</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/AddOns/Headwear/HeadBand/">OpenBCI EEG Headband Kit Guide</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/AddOns/Headwear/ElectrodeCap/">Electrode Cap Getting Started Guide</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="-1">Electrodes</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/AddOns/Electrodes/ElectrodesLanding/">Electrode Guide</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Third-Party Hardware</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/ThirdParty/ThirdPartyLanding/">Third-Party Hardware</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="-1">EmotiBit</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/ThirdParty/EmotiBit/EmotiBit_Guide/">EmotiBit Guide</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="-1">HEGduino Kit</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/ThirdParty/HEGduino Kit/HEGduino/">HEGduino How-to</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="-1">IDUN Dryode</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/ThirdParty/IDUN_Dryode/Dryode/">IDUN Dryode</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="-1">Myoware</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/ThirdParty/Myoware/MyoCyton/">MyoWare OpenBCI Integration (Cyton Board)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/ThirdParty/Myoware/MyoGanglion/">MyoWare OpenBCI Integration (Ganglion Board)</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="-1">Pulse Sensor</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/ThirdParty/Pulse_Sensor/Pulse_Sensor_Landing/">Pulse Sensor Guide</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="-1">ThinkPulse</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/ThirdParty/ThinkPulse/ThinkPulse/">ThinkPulse Getting Started Guide</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="-1">WiFi Shield</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/ThirdParty/WiFiShield/WiFiLanding/">OpenBCI WiFi</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/ThirdParty/WiFiShield/WiFiProgam/">Wifi Shield Programming Tutorial</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/ThirdParty/WiFiShield/WiFiAPI/">OpenBCI WiFi Shield API</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/ThirdParty/WiFiShield/WiFiSDK/">OpenBCI Wifi SDK</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Software</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Software/SoftwareLanding/">Compatible Software</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="-1">Developed By OpenBCI</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Software/OpenBCISoftware/GUIDocs/">The OpenBCI GUI</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Software/OpenBCISoftware/GUIWidgets/">GUI Widget Guide</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="-1">Compatible Third Party Software</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Software/CompatibleThirdPartySoftware/Matlab/">MATLAB</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Software/CompatibleThirdPartySoftware/Neuromore/">Neuromore</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Software/CompatibleThirdPartySoftware/OpenVibe/">OpenViBE</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Software/CompatibleThirdPartySoftware/LSL/">Lab Streaming Layer (LSL)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Software/CompatibleThirdPartySoftware/BrainBay/">BrainBay</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Software/CompatibleThirdPartySoftware/BioEra/">BioEra</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Software/CompatibleThirdPartySoftware/VirtualBox/">VirtualBox Windows Guide</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">For Developers</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/ForDevelopers/ForDevelopersLanding/">For Developers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/ForDevelopers/SoftwareDevelopment/">Software Development</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/ForDevelopers/FirmwareDevelopment/">Firmware Development</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/ForDevelopers/HardwareDevelopment/">Hardware Development</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Deprecated Documents</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Deprecated/DeprecatedLanding/">Deprecated Docs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Deprecated/SpiderclawDep/">Spiderclaw V1 &amp; V2 (deprecated)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Deprecated/8bitBoardDep/">OpenBCI 8bit Board (no longer in production)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Deprecated/UltracortexMark1Dep/">Ultracortex Mark 1</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Deprecated/UltracortexMark2Dep/">Ultracortex Mark 2</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Deprecated/UltracortexMark2Dep/">Ultracortex Mark 2</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Deprecated/UltracortexMark3_NovaDep/">Ultracortex Mark III Nova and Supernova</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Deprecated/Python/">Python and OpenBCI</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Deprecated/Hub/">OpenBCI Hub</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Troubleshooting</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Troubleshooting/TroubleshootingLanding/">Troubleshooting Landing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Troubleshooting/minimizingNoise/">Minimizing Noise</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Troubleshooting/GUI_Troubleshooting/">GUI Troubleshooting</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Troubleshooting/FTDI_Fix_Linux/">FTDI Buffer Fix on Linux</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Troubleshooting/FTDI_Fix_Mac/">FTDI Buffer Fix on OS X</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Troubleshooting/FTDI_Fix_Windows/">FTDI Buffer Fix on Windows</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Example Projects</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Examples/ExamplesLanding/">Example Projects</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="-1">Experiments</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Examples/VideoExperiment/">Puppies and Kittens Experiment</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="-1">Community Page Projects</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Examples/CommunityPageProjects/">Community Page Projects</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="-1">EMG Projects and Tutorials</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Examples/EMGProjects/EMGscrolling/">EMG Scrolling</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Examples/EMGProjects/EMGmusic/">EMG controlled Music</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Examples/EMGProjects/EMGslideshow/">EMG-controlled Slideshow</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Examples/EMGProjects/EMG_LED/">EMG-controlled LED</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Examples/EMGProjects/EMG_Chrome_Dino_Game/">EMG Chrome Dino Game</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="-1">EEG Projects and Tutorials</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Examples/EEGProjects/FocusArduino/">Send Focus Data from GUI to Arduino</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Examples/EEGProjects/MotorImagery/">Motor Imagery</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">FAQ</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="-1">FAQ</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/FAQ/FAQLanding/">Frequently Asked Questions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/FAQ/GenFAQ/">General Frequently Asked Questions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/FAQ/HowProductsGoTogether/">How OpenBCI products go together?</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/FAQ/HardFAQ/">Hardware &amp; Software</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/FAQ/PaymentFAQ/">Purchases &amp; Payment Processing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/FAQ/ShippingFAQ/">Shipping &amp; Taxes</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="-1">Policies</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/FAQ/Cookie/">OpenBCI Cookie Policy</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/FAQ/Privacy/">Privacy &amp; Security</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/FAQ/Returns/">RETURNS &amp; REFUNDS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/FAQ/Liability/">Liability Policy</a></li></ul></li></ul></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="markdown"><header><h1 class="h1Heading_27L5">External Trigger on OpenBCI Cyton Board</h1></header><p>Sometimes, when studying EEG or other biopotential signals, you will want to have precise timing between external events or stimulus and the data stream. For example, if you are working with P300 waves it is necessary to know the exact time that the signal was presented to the subject in order to look for the tell-tale brain wave that happens about 300mS after the stimulus.</p><p>This tutorial will cover a couple of ways to add an external trigger to the OpenBCI data stream on our 32bit Board. Normally, the Cyton board reads from the Accelerometer at 25 Hz. When we change board mode to <code>Analog</code> or <code>Digital</code> mode, we read from the external pins at same rate as the signal pins (e.g. 250 Hz)! This is what allows for the precise timing needed for external triggers.</p><p><strong>Note:</strong> As of 3.x.x Cyton firmware, the Cyton is able to switch board modes, now you don&#x27;t have to upload new code to the board just to read from an input!</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="external-triggering-the-easy-way-firmware-3xx"></a>External Triggering The Easy Way (Firmware 3.x.x)<a class="hash-link" href="#external-triggering-the-easy-way-firmware-3xx" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="using-the-openbci-gui"></a>Using the OpenBCI GUI<a class="hash-link" href="#using-the-openbci-gui" title="Direct link to heading">#</a></h3><p>Follow the official <a href="/Software/OpenBCISoftware/GUIDocs/">OpenBCI GUI guide</a> to download version 3.2.0 or later <a href="http://openbci.com/index.php/downloads" target="_blank" rel="noopener noreferrer">from our website</a>.</p><p>Be sure that your Cyton firmware is later than <a href="https://github.com/OpenBCI/OpenBCI_32bit_Library/releases/tag/v3.1.0" target="_blank" rel="noopener noreferrer">v3.1.0</a> by following the <a href="/Cyton/CytonProgram/"><strong>tutorial here</strong></a>! May all your troubles disappear!</p><p>Launch the OpenBCI GUI for your operating system following the tutorial for the <a href="/Software/OpenBCISoftware/GUIDocs/#running-the-openbci_gui">OpenBCI GUI</a> (remember to <a href="/Software/OpenBCISoftware/GUIDocs/#running-on-windows">run your OpenBCIHub application</a> first windows users!).</p><p>Once the GUI has launched, follow the guide to <a href="/GettingStarted/Boards/CytonGS/#iv-connect-to-your-cyton-board-from-the-gui">connect to your Cyton from the OpenBCI GUI</a>.</p><p>Once you have connected, you may selected the &quot;Digital Read&quot; for one of your widgets. Then select start digital read mode button in the top left of the newly populated widget. This will activate and send the proper commands to your Cyton. Note that the accelerometer will no long be turned on because the trigger data is now sent instead.</p><p>You can verify the digital read widget is working by pressing the &quot;PROG&quot; button which is hooked up to the D17 pin.</p><p>When you use a Cyton USB dongle, you get up to 5 digital IO pins to read from: D11, D12, D13, D17 and D18! If there appears to be a delay between when you press the button and when the digital read widget in the GUI shows the button pressed, then you may want to lower your serial port latency. Checkout the guides for lowering serial port latency <a href="/Troubleshooting/FTDI_Fix_Windows/">Windows</a> and <a href="/Troubleshooting/FTDI_Fix_Mac/">macOS</a>, and <a href="/Troubleshooting/FTDI_Fix_Linux/">Linux</a>!</p><p>When you use a Cyton over <a href="https://shop.openbci.com/collections/frontpage/products/wifi-shield?variant=44534009550" target="_blank" rel="noopener noreferrer">WiFi Shield</a>, you get up to 3 digital IO pins to read from: D11, D12 and D17! There should be no noticeable delay from when you touch the button and when the digital read widget in the GUI shows the button pressed.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="programmatically-setting-board-mode"></a>Programmatically Setting Board Mode<a class="hash-link" href="#programmatically-setting-board-mode" title="Direct link to heading">#</a></h3><p>Firmware 3.x.x brings a long requested out-of-the-box ability to read from analog or digital inputs with the default firmware. Allowing you to simply read from the analog input (sending <code>/2</code>) or digital input (sending <code>/3</code>) with the type of two ascii commands. The default board is activated by default, and can always be achieved again by sending a <code>/0</code>.</p><p>Learn more about board modes in the <a href="/Cyton/CytonSDK/#firmware-v300-new-commands-board-mode">Cyton SDK</a>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="external-triggering-the-easy-way-firmware-2xx"></a>External Triggering The Easy Way (Firmware 2.x.x)<a class="hash-link" href="#external-triggering-the-easy-way-firmware-2xx" title="Direct link to heading">#</a></h3><p>Update to firmware version 3.x.x using the tutorial <a href="/Cyton/CytonProgram/"><strong>here</strong></a>! May all your troubles disappear!  </p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="sample-code-links"></a>Sample Code Links<a class="hash-link" href="#sample-code-links" title="Direct link to heading">#</a></h3><p>The code used in this example is located <a href="https://github.com/OpenBCI/OpenBCI_Button_Trigger" target="_blank" rel="noopener noreferrer"><strong>here</strong></a> for those of you who want to play along at home. There&#x27;s a tutorial for how to program the 32bit Board <a href="/Cyton/CytonProgram/"><strong>here</strong></a></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="utilize-the-on-device-push-button"></a>Utilize the on device push button<a class="hash-link" href="#utilize-the-on-device-push-button" title="Direct link to heading">#</a></h3><p>The OpenBCI 32bit Board comes with a user accessible pushbutton switch already on the board, wired right to the PIC32 microcontroller. Brilliant! It is the PROG button, and it is used by to put the PIC into bootloader mode when uploading new firmware. When it&#x27;s not doing that it&#x27;s attached to pin D17 with a 470K pulldown resistor, so when you press the PROG button, D17 goes from LOW to HIGH. The PROG pushbutton is a great way to get user acknowledgement of a stimulus (for example) into the data stream. You will likely want to note the rising edge (pushed state) of the button press, so that&#x27;s the example code that we&#x27;ll work with.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">int pushButton = 17;        // the button is on pin D17</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">int pushButtonValue;        // used to hold the latest button reading</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">int lastPushButtonValue;    // used to remember the last button state</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">boolean addAuxToSD = false; // use this to write auxiliary data to SD if you like</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">boolean state = HIGH;       // used to toggle the on-board LED</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>First thing is to establish the variables we need to read the pushbutton switch, and a flag to let the rest of the program know we got new data. The OpenBCI library already has a variable array for auxiliary data, called auxData, which we will use for logging. I&#x27;ve also added a flag for writing data to an SD card (if you like that kind of thing) and a boolean to toggle the on-board blue LED for user feedback, which is always nice.</p><p>In the setup function, we set the pin direction and prime the button variables. The startFromScratch() function resets the board peripheral devices and does some general housekeeping, along with making initial serial contact with any controlling program. the useAccel and useAux variables are inside the OpenBCI_32_Daisy library (hence the <strong>OBCI.</strong>) and it&#x27;s important to decide and select which kind of data you want to log. It is possible to do both, but you will need to manually operate the useAux or useAcel variables (tutorial on that coming sooooon).</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">void setup(){</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    // stuff here...</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    pinMode(pushButton, INPUT);     // set the button pin direction</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    pushButtonValue = lastPushButtonValue = digitalRead(pushButton); // seed</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    startFromScratch();     // initialize OpenBCI, read device IDS</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>  		// you can set EITHER useAccel or useAux to true
// if you want both, you MUST set and clear one of the variables every sample
OBCI.useAccel = false;  // option to add/remove accelerometer data to stream
OBCI.useAux = true;     // option to add/remove auxiliary data to stream
// more stuff...
{&quot;}&quot;}</p><p>Then, in the loop, we want to check for the rising edge of the button press, make note of it in the auxData array, and set the write-to-SD flag (if you like). Finally, we want to get the button press event into the data stream. (Reference the <a href="/Cyton/CytonDataFormat/">OpenBCI Data Format Doc</a> for data packet anatomy) There are 6 bytes available in each data packet, and the default format is to read them as three 16bit integers (aka &#x27;words&#x27; or &#x27;shorts&#x27;). You can decide to add your flags into the auxData array any way you choose. In this example, we are setting each short to the value 0x6620. That&#x27;s because our <a href="https://github.com/OpenBCI/OpenBCI_Processing" target="_blank" rel="noopener noreferrer">OpenBCI GUI</a> converts these variables to Gs (the GUI is expecting accelerometer data) and 0x6620 converts to PI (3.14). Our sample rate of 250SPS gives us a 4mS resolution on external trigger events like the rising edge of the PROG button press.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">pushButtonValue = digitalRead(pushButton);    // feel the PROG button</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">if (pushButtonValue != lastPushButtonValue){  // if it&#x27;s changed,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        if (pushButtonValue == HIGH){    // if it&#x27;s gone from LOW to HIGH</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            // 0x6220 converts to PI in GUI</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            OBCI.auxData[0] = OBCI.auxData[1] = OBCI.auxData[2] = 0x6220;  </span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            addAuxToSD = true;       // add Aux Data to the SD card if it&#x27;s there</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            state = !state;     // toggle the state variable</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            digitalWrite(LED,state);    // toggle the LED for user useability</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        lastPushButtonValue = pushButtonValue; // keep track of the changes!</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>You can do the button feeling at any point in the loop() function. In our sample code linked above, I&#x27;m putting it outside of the if(is-running) conditional so that I can see the LED toggle even when the board is not streaming data. That&#x27;s a nice way to know that you&#x27;ve got everything set up and working before starting a data logging session.</p><p>Here&#x27;s an example of what the data looks like after it&#x27;s been logged by our GUI.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">217, -18.08, -23.04, -21.59, -29.86, -23.76, -19.65, -28.79, -19.47, 0.00, 0.00, 0.00</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">218, -18.17, -22.82, -21.59, -29.93, -23.85, -19.65, -28.72, -19.16, 0.00, 0.00, 0.00</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">219, -17.97, -23.04, -21.39, -29.97, -23.92, -19.56, -28.74, -19.24, 0.00, 0.00, 0.00</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">220, -17.99, -23.07, -21.61, -30.00, -23.72, -19.71, -28.52, -19.16, 0.00, 0.00, 0.00</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">221, -17.90, -23.04, -21.48, -30.09, -23.85, -19.54, -28.43, -19.18, 3.14, 3.14, 3.14</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">222, -17.90, -22.96, -21.48, -30.20, -23.72, -19.38, -28.57, -18.95, 0.00, 0.00, 0.00</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">223, -17.93, -22.89, -21.26, -29.97, -23.96, -19.65, -28.54, -18.95, 0.00, 0.00, 0.00</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>And here&#x27;s an example of what the data looks like after it&#x27;s been logged to the SD card.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">D9,FFFCD7,FFFBF9,FFFC3A,FFFAC8,FFFBD9,FFFC91,FFFAF8,FFFC99</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">DA,FFFCD3,FFFC03,FFFC3A,FFFAC5,FFFBD5,FFFC91,FFFAFB,FFFCA7</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">DB,FFFCDC,FFFBF9,FFFC43,FFFAC3,FFFBD2,FFFC95,FFFAFA,FFFCA3</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">DC,FFFCDB,FFFBF8,FFFC39,FFFAC2,FFFBDB,FFFC8E,FFFB04,FFFCA7</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">DD,FFFCDF,FFFBF9,FFFC3F,FFFABE,FFFBD5,FFFC96,FFFB08,FFFCA6,6220,6220,6220</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">DE,FFFCDF,FFFBFD,FFFC3F,FFFAB9,FFFBDB,FFFC9D,FFFB02,FFFCB0</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">DF,FFFCDE,FFFC00,FFFC49,FFFAC3,FFFBD0,FFFC91,FFFB03,FFFCB0</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="external-triggering-the-harder-way-firmware-1xx"></a>External Triggering The Harder Way (Firmware 1.x.x)<a class="hash-link" href="#external-triggering-the-harder-way-firmware-1xx" title="Direct link to heading">#</a></h3><p>Sometimes a situation may arise where you need to interface OpenBCI with an existing system, for example an audio or visual event-related potential (ERP). In such a case, it is most desirable to have the onset of the signal tightly bound, temporally, with the EEG data. It is possible to interface the OpenBCI 32bit Board with the external signal generating system using a few low-cost components.
Our goal with the OpenBCI board is to make biosensing safe and fun. The biggest part of the safety part is making sure that you can&#x27;t plug yourself accidentally into the mains electrical supply (yikes!). If you are interfacing an external trigger that is <strong>NOT</strong> operating under a battery supply, we recommend thinking twice about incorporating it into your system/protocol. If you have thought through it twice, here&#x27;s how we do it when we need to.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="optoisolation"></a>Optoisolation<a class="hash-link" href="#optoisolation" title="Direct link to heading">#</a></h3><p><img alt="Optoisolator Schematic" src="/assets/images/ExternalTriggerCNY17-bc113c1f29fdcef5a037a866a744bc4d.jpg">
<img alt="Breadboard CNY17" src="/assets/images/CNY17_Breadboard-85152d791705f70d596a5f9f72168b3f.jpg"></p><p>The simplest trick is to isolate the OpenBCI circuit from the trigger signal generating circuit. For this purpose, we picked an Optoisolator with 5000 Volts isolation between the input and the output. <a href="http://www.mouser.ee/ProductDetail/Vishay-Semiconductors/CNY17F-2X006/?qs=sGAEpiMZZMteimceiIVCB7Uit3aMEvQQFLjPtOr%2f870%3d" target="_blank" rel="noopener noreferrer">CNY17</a> family from Vishay is a great example of a low-cost high isolation optoisolator. It&#x27;s usually available, and costs under a dollar (USD) in singles. In the circuit to the right, when an external trigger of 3.3V to 5V is applied to the Anode of the input (pin 1), the output (pin 5) will go from HIGH to LOW.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">int triggerPin = 18;        // the CNY17 Collector is on pin 18</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">int triggerValue;       // used to hold the latest trigger reading</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">int lastTriggerValue;   // used to remember the latest trigger state</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">boolean addAuxToSD;        // option to add the aux data to the SD card</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The code to read this trigger input is quite similar to the previous button code. In this case, we need to use a different pin (pin 18) and watch for the <strong>falling</strong> edge of the trigger.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">void setup(){</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    // stuff here...</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    pinMode(triggerPin, INPUT);     // set the button pin direction</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    triggerValue = lastTriggerValue = digitalRead(triggerPin); // seed</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    startFromScratch();     // initialize OpenBCI, read device IDS</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>  		// you can set EITHER useAccel or useAux to true
// if you want both, you MUST set and clear one of the variables every sample
OBCI.useAccel = false;  // option to add/remove accelerometer data to stream
OBCI.useAux = true;     // option to add/remove auxiliary data to stream
// more stuff...
{&quot;}&quot;}</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">void loop(){</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// do stuff</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">triggerValue = digitalRead(triggerPin);    // feel the trigger pin</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    if (triggerValue != lastTriggerValue){  // if it&#x27;s changed,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        if (triggerValue == LOW){    // if it&#x27;s gone from HIGH to LOW</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            // 0x6220 converts to PI in GUI</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            OBCI.auxData[0] = OBCI.auxData[1] = OBCI.auxData[2] = 0x6220;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            addAuxToSD = true;           // add Aux Data to the SD card if it&#x27;s there</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            state = !state;     // toggle the state variable</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            digitalWrite(LED,state);    // toggle the LED for user useability</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    lastTriggerValue = triggerValue; // keep track of the changes</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    // do other stuff</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Have fun, be safe, and, as always, we&#x27;re <a href="http://openbci.com/index.php/forum/" target="_blank" rel="noopener noreferrer">here to help</a></p></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="https://github.com/OpenBCI/Documentation/edit/master/websitev2/docs/Cyton/07-External_Trigger_Cyton_Example.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_3DPF">Last updated on <b><time datetime="2021-07-27T21:03:12.000Z">7/27/2021</time></b> by <b>Richard Waltman</b></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/Cyton/CytonRadios/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Cyton Radios Programming Tutorial</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/Cyton/CytonSDCard/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Using SD Card with OpenBCI Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#external-triggering-the-easy-way-firmware-3xx" class="table-of-contents__link">External Triggering The Easy Way (Firmware 3.x.x)</a><ul><li><a href="#using-the-openbci-gui" class="table-of-contents__link">Using the OpenBCI GUI</a></li><li><a href="#programmatically-setting-board-mode" class="table-of-contents__link">Programmatically Setting Board Mode</a></li><li><a href="#external-triggering-the-easy-way-firmware-2xx" class="table-of-contents__link">External Triggering The Easy Way (Firmware 2.x.x)</a></li><li><a href="#sample-code-links" class="table-of-contents__link">Sample Code Links</a></li><li><a href="#utilize-the-on-device-push-button" class="table-of-contents__link">Utilize the on device push button</a></li><li><a href="#external-triggering-the-harder-way-firmware-1xx" class="table-of-contents__link">External Triggering The Harder Way (Firmware 1.x.x)</a></li><li><a href="#optoisolation" class="table-of-contents__link">Optoisolation</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/img/openbci-logo.svg" alt="" class="themedImage_1VuW themedImage--light_3UqQ footer__logo"><img src="/img/openbci-logo.svg" alt="" class="themedImage_1VuW themedImage--dark_hz6m footer__logo"></div><div class="footer__copyright">Copyright Â© 2021 OpenBCI</div></div></div></footer></div>
<script src="/assets/js/runtime~main.9aca6429.js"></script>
<script src="/assets/js/main.9dec5e7f.js"></script>
</body>
</html>